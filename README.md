## Safari App Extension for MetNews

### About

https://metnews.co

MetNews is your personal knowledge search engine, that helps collect what you have liked, discover new readings, and find them later with full text search.

### Build

The Xcode project is automatically generated from the same web extension for Firefox(Manifest v2):

    xcrun safari-web-extension-converter --swift --macos-only --app-name MetNews.extension ./news-extension/src/

Original web extension resources(javascript, css, icons, manifest.conf) are referenced(linked) in Xcode project, so changes there will automatically reflect here.

Then just build the project using Xcode without modifying any Swift code, it will run perfectly.

For more details about converting a web extension for Safari, see the [Apple documention].

### Publish

To publish this app extension to macOS App Store, do the following things:

1. Choose signing team for both `MetNews.extension` and `MetNews.extension Extension` targets. 
2. The bundle idenfiter is auto generated by combining domain in `manifest.conf` and `--app-name` command line argument. You can also adjust it.
3. Fill version and build number for both `MetNews.extension` and `MetNews.extension Extension` targets, they must equal.
4. Choose an App category for `MetNews.extension` target.
5. Then archive the product and publish it. Siu.

[Apple documention]: https://developer.apple.com/documentation/safariservices/safari_web_extensions/converting_a_web_extension_for_safari

